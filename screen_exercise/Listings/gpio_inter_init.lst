


ARM Macro Assembler    Page 1 


    1 00000000         
    2 00000000         ;Nested Vector Interrupt Controller registers
    3 00000000 40000000 
                       NVIC_EN0_INT30
                               EQU              0x40000000  ; Interrupt 19 enab
                                                            le
    4 00000000 E000E100 
                       NVIC_EN0
                               EQU              0xE000E100  ; IRQ 0 to 31 Set E
                                                            nable Register
    5 00000000 E000E41C 
                       NVIC_PRI7
                               EQU              0xE000E41C  ; IRQ 28 to 31 Prio
                                                            rity Register
    6 00000000         ; GPIO Registers
    7 00000000 400FE608 
                       RCGCGPIO
                               EQU              0x400FE608  ; GPIO clock regist
                                                            er
    8 00000000         ;PORT F base address EQU 0x40025000
    9 00000000 4002551C 
                       PORTF_DEN
                               EQU              0x4002551C  ; Digital Enable
   10 00000000 4002552C 
                       PORTF_PCTL
                               EQU              0x4002552C  ; Alternate functio
                                                            n select
   11 00000000 40025420 
                       PORTF_AFSEL
                               EQU              0x40025420  ; Enable Alt functi
                                                            ons
   12 00000000 40025528 
                       PORTF_AMSEL
                               EQU              0x40025528  ; Enable analog
   13 00000000 40025400 
                       PORTF_DIR
                               EQU              0x40025400  ;Set direction
   14 00000000 400253FC 
                       PORTF_DATA
                               EQU              0x400253FC
   15 00000000 40025520 
                       PORTF_LOCK
                               EQU              0X40025520
   16 00000000 4C4F434B 
                       GPIO_LOCK_KEY
                               EQU              0x4C4F434B
   17 00000000 40025524 
                       GPIO_PORTF_CR_R
                               EQU              0x40025524
   18 00000000 40025510 
                       PORTF_PUR
                               EQU              0x40025510
   19 00000000 40025404 
                       GPIO_PORTF_IS
                               EQU              0X40025404
   20 00000000 40025408 
                       GPIO_PORTF_IBE
                               EQU              0X40025408
   21 00000000 4002540C 



ARM Macro Assembler    Page 2 


                       GPIO_PORTF_IEV
                               EQU              0X4002540C
   22 00000000 40025410 
                       GPIO_PORTF_IM
                               EQU              0X40025410
   23 00000000 40025414 
                       GPIO_PORTF_RIS
                               EQU              0X40025414
   24 00000000 4002541C 
                       GPIO_PORTF_ICR
                               EQU              0X4002541C
   25 00000000         
   26 00000000 20000400 
                       POSITION
                               EQU              0X20000400
   27 00000000         
   28 00000000                 AREA             routines, CODE, READONLY
   29 00000000                 THUMB
   30 00000000                 EXTERN           BATTLESHIP
   31 00000000                 EXTERN           CIVILIAN
   32 00000000                 EXPORT           GPIOPortF_Handler
   33 00000000                 EXPORT           GPIO_INIT
   34 00000000         
   35 00000000         GPIOPortF_Handler
                               PROC
   36 00000000 B527            PUSH             {R0, R1, R2, R5, LR}
   37 00000002 F04F 0214       MOV              R2, #20
   38 00000006 F64F 71FF 
                       LOOP2   MOV              R1, #0XFFFF
   39 0000000A 3901    LOOP    SUBS             R1, #1
   40 0000000C D1FD            BNE              LOOP
   41 0000000E 3A01            SUBS             R2, #1
   42 00000010 D1F9            BNE              LOOP2
   43 00000012         
   44 00000012 4954            LDR              R1, =GPIO_PORTF_RIS
   45 00000014 6808            LDR              R0, [R1]
   46 00000016 4954            LDR              R1, =GPIO_PORTF_ICR
   47 00000018 F04F 0211       MOV              R2, #0X11
   48 0000001C 600A            STR              R2, [R1]
   49 0000001E F04F 0500       MOV              R5, #0
   50 00000022 EB0B 050A       ADD              R5, R11, R10
   51 00000026 2D04            CMP              R5, #4
   52 00000028 D05C            BEQ              FINISH
   53 0000002A F010 0001       ANDS             R0, #0X1
   54 0000002E D133            BNE              CIV
   55 00000030 F1BA 0F04       CMP              R10, #4
   56 00000034 DA56            BGE              FINISH
   57 00000036 F1BA 0F02       CMP              R10, #2
   58 0000003A DC23            BGT              FOUR_B
   59 0000003C F1BA 0F01       CMP              R10, #1
   60 00000040 DC16            BGT              THIRD_B
   61 00000042 F1BA 0F00       CMP              R10, #0
   62 00000046 DC09            BGT              SECOND_B
   63 00000048 4848            LDR              R0, =(POSITION + 24)
   64 0000004A F840 3B02       STR              R3, [R0], #2 ;X POSITION
   65 0000004E F840 6B02       STR              R6, [R0], #2 ;Y POSITION
   66 00000052 F8C0 8000       STR              R8, [R0]    ;SHIFTING
   67 00000056 F10A 0A01       ADD              R10, #1
   68 0000005A E043            B                FINISH



ARM Macro Assembler    Page 3 


   69 0000005C         SECOND_B
   70 0000005C 4844            LDR              R0, =(POSITION + 30)
   71 0000005E F840 3B02       STR              R3, [R0], #2 ;X POSITION
   72 00000062 F840 6B02       STR              R6, [R0], #2 ;Y POSITION
   73 00000066 F8C0 8000       STR              R8, [R0]    ;SHIFTING
   74 0000006A F10A 0A01       ADD              R10, #1
   75 0000006E E039            B                FINISH
   76 00000070         THIRD_B
   77 00000070 4840            LDR              R0, =(POSITION + 36)
   78 00000072 F840 3B02       STR              R3, [R0], #2 ;X POSITION
   79 00000076 F840 6B02       STR              R6, [R0], #2 ;Y POSITION
   80 0000007A F8C0 8000       STR              R8, [R0]    ;SHIFTING
   81 0000007E F10A 0A01       ADD              R10, #1
   82 00000082 E02F            B                FINISH
   83 00000084         FOUR_B
   84 00000084 483C            LDR              R0, =(POSITION + 42)
   85 00000086 F840 3B02       STR              R3, [R0], #2 ;X POSITION
   86 0000008A F840 6B02       STR              R6, [R0], #2 ;Y POSITION
   87 0000008E F8C0 8000       STR              R8, [R0]    ;SHIFTING
   88 00000092 F10A 0A01       ADD              R10, #1
   89 00000096 E025            B                FINISH
   90 00000098         
   91 00000098 F1BB 0F03 
                       CIV     CMP              R11, #3
   92 0000009C DA22            BGE              FINISH
   93 0000009E F1BB 0F01       CMP              R11, #1
   94 000000A2 DC16            BGT              THIRD
   95 000000A4 F1BB 0F00       CMP              R11, #0
   96 000000A8 DC09            BGT              SECOND
   97 000000AA 4834            LDR              R0, =POSITION
   98 000000AC F840 3B02       STR              R3, [R0], #2 ;X POSITION
   99 000000B0 F840 6B02       STR              R6, [R0], #2 ;Y POSITION
  100 000000B4 F8C0 8000       STR              R8, [R0]    ;SHIFTING
  101 000000B8 F10B 0B01       ADD              R11, #1
  102 000000BC E012            B                FINISH
  103 000000BE         SECOND
  104 000000BE 4830            LDR              R0, =(POSITION + 10)
  105 000000C0 F840 3B02       STR              R3, [R0], #2 ;X POSITION
  106 000000C4 F840 6B02       STR              R6, [R0], #2 ;Y POSITION
  107 000000C8 F8C0 8000       STR              R8, [R0]    ;SHIFTING
  108 000000CC F10B 0B01       ADD              R11, #1
  109 000000D0 E008            B                FINISH
  110 000000D2         THIRD
  111 000000D2 482C            LDR              R0, =(POSITION + 16)
  112 000000D4 F840 3B02       STR              R3, [R0], #2 ;X POSITION
  113 000000D8 F840 6B02       STR              R6, [R0], #2 ;Y POSITION
  114 000000DC F8C0 8000       STR              R8, [R0]    ;SHIFTING
  115 000000E0 F10B 0B01       ADD              R11, #1
  116 000000E4         FINISH
  117 000000E4         
  118 000000E4 E8BD 4027       POP              {R0, R1, R2, R5, LR}
  119 000000E8 4770            BX               LR
  120 000000EA                 ENDP
  121 000000EA         GPIO_INIT
                               PROC
  122 000000EA 4927            LDR              R1 , =RCGCGPIO
  123 000000EC 6808            LDR              R0 , [ R1 ]
  124 000000EE F040 0020       ORR              R0 , R0 , #0x20 ;Port F clock e
                                                            nabled



ARM Macro Assembler    Page 4 


  125 000000F2 6008            STR              R0 , [ R1 ]
  126 000000F4 BF00            NOP                          ;Wait for clock to 
                                                            stabilize
  127 000000F6 BF00            NOP
  128 000000F8 BF00            NOP
  129 000000FA 4924            LDR              R1, =PORTF_LOCK
  130 000000FC 4824            LDR              R0, =GPIO_LOCK_KEY
  131 000000FE 6008            STR              R0, [R1]
  132 00000100 4924            LDR              R1, =GPIO_PORTF_CR_R
  133 00000102 F04F 00FF       MOV              R0, #0xFF
  134 00000106 6008            STR              R0, [R1]
  135 00000108 4923            LDR              R1 , =PORTF_DIR ; Config of Por
                                                            t F starts
  136 0000010A F04F 0002       MOV              R0 , #0x2
  137 0000010E 6008            STR              R0 , [ R1 ]
  138 00000110 4922            LDR              R1 , =PORTF_AFSEL
  139 00000112 6808            LDR              R0 , [ R1 ]
  140 00000114 F020 00FF       BIC              R0 , #0xFF
  141 00000118 6008            STR              R0 , [ R1 ]
  142 0000011A 4921            LDR              R1 , =PORTF_DEN
  143 0000011C 6808            LDR              R0 , [ R1 ]
  144 0000011E F040 00FF       ORR              R0 , #0xFF
  145 00000122 6008            STR              R0 , [ R1 ]
  146 00000124 491F            LDR              R1 , =PORTF_PUR
  147 00000126 6808            LDR              R0 , [ R1 ]
  148 00000128 F040 0011       ORR              R0 , #0x11
  149 0000012C 6008            STR              R0 , [ R1 ]
  150 0000012E         
  151 0000012E 491E            LDR              R1, =GPIO_PORTF_IS
  152 00000130 4A1E            LDR              R2, =GPIO_PORTF_IBE
  153 00000132 4B1F            LDR              R3, =GPIO_PORTF_IEV
  154 00000134 4C1F            LDR              R4, =GPIO_PORTF_IM
  155 00000136 4D0C            LDR              R5, =GPIO_PORTF_ICR
  156 00000138 F04F 0000       MOV              R0, #0x00
  157 0000013C 6008            STR              R0, [R1]
  158 0000013E 6010            STR              R0, [R2]
  159 00000140 6018            STR              R0, [R3]
  160 00000142 F04F 0011       MOV              R0, #0x11
  161 00000146 6020            STR              R0, [R4]
  162 00000148 6028            STR              R0, [R5]
  163 0000014A         
  164 0000014A 491B            LDR              R1, =NVIC_PRI7
  165 0000014C 680A            LDR              R2, [R1]
  166 0000014E F422 027F       AND              R2, R2, #0xFF00FFFF ;
  167 00000152 F442 0280       ORR              R2, R2, #0x00400000 ;
  168 00000156 600A            STR              R2, [R1]
  169 00000158 4918            LDR              R1, =NVIC_EN0
  170 0000015A F04F 4280       MOV              R2, #0x40000000 ; set bit 19 to
                                                             enable interrupt 1
                                                            9
  171 0000015E 600A            STR              R2, [R1]
  172 00000160         ; Enable timer
  173 00000160         ;   LDR R1 , =PORTF_DATA
  174 00000160         ;   MOV R0, #0x0
  175 00000160         ;   STR R0, [R1]   
  176 00000160 4770            BX               LR          ; end
  177 00000162         
  178 00000162 00 00           ALIGN
  179 00000164                 ENDP



ARM Macro Assembler    Page 5 


  180 00000164                 END
              40025414 
              4002541C 
              20000418 
              2000041E 
              20000424 
              2000042A 
              20000400 
              2000040A 
              20000410 
              400FE608 
              40025520 
              4C4F434B 
              40025524 
              40025400 
              40025420 
              4002551C 
              40025510 
              40025404 
              40025408 
              4002540C 
              40025410 
              E000E41C 
              E000E100 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\gpio_inter_init.d -o.\objects\gpio_inter_init.o -I.\R
TE\_Target_1 -IC:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -
IC:\Keil_v5\ARM\CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISIO
N_VERSION SETA 526" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\gpio_in
ter_init.lst GPIO_INTER_INIT.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

CIV 00000098

Symbol: CIV
   Definitions
      At line 91 in file GPIO_INTER_INIT.s
   Uses
      At line 54 in file GPIO_INTER_INIT.s
Comment: CIV used once
FINISH 000000E4

Symbol: FINISH
   Definitions
      At line 116 in file GPIO_INTER_INIT.s
   Uses
      At line 52 in file GPIO_INTER_INIT.s
      At line 56 in file GPIO_INTER_INIT.s
      At line 68 in file GPIO_INTER_INIT.s
      At line 75 in file GPIO_INTER_INIT.s
      At line 82 in file GPIO_INTER_INIT.s
      At line 89 in file GPIO_INTER_INIT.s
      At line 92 in file GPIO_INTER_INIT.s
      At line 102 in file GPIO_INTER_INIT.s
      At line 109 in file GPIO_INTER_INIT.s

FOUR_B 00000084

Symbol: FOUR_B
   Definitions
      At line 83 in file GPIO_INTER_INIT.s
   Uses
      At line 58 in file GPIO_INTER_INIT.s
Comment: FOUR_B used once
GPIOPortF_Handler 00000000

Symbol: GPIOPortF_Handler
   Definitions
      At line 35 in file GPIO_INTER_INIT.s
   Uses
      At line 32 in file GPIO_INTER_INIT.s
Comment: GPIOPortF_Handler used once
GPIO_INIT 000000EA

Symbol: GPIO_INIT
   Definitions
      At line 121 in file GPIO_INTER_INIT.s
   Uses
      At line 33 in file GPIO_INTER_INIT.s
Comment: GPIO_INIT used once
LOOP 0000000A

Symbol: LOOP
   Definitions
      At line 39 in file GPIO_INTER_INIT.s
   Uses
      At line 40 in file GPIO_INTER_INIT.s
Comment: LOOP used once
LOOP2 00000006

Symbol: LOOP2



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 38 in file GPIO_INTER_INIT.s
   Uses
      At line 42 in file GPIO_INTER_INIT.s
Comment: LOOP2 used once
SECOND 000000BE

Symbol: SECOND
   Definitions
      At line 103 in file GPIO_INTER_INIT.s
   Uses
      At line 96 in file GPIO_INTER_INIT.s
Comment: SECOND used once
SECOND_B 0000005C

Symbol: SECOND_B
   Definitions
      At line 69 in file GPIO_INTER_INIT.s
   Uses
      At line 62 in file GPIO_INTER_INIT.s
Comment: SECOND_B used once
THIRD 000000D2

Symbol: THIRD
   Definitions
      At line 110 in file GPIO_INTER_INIT.s
   Uses
      At line 94 in file GPIO_INTER_INIT.s
Comment: THIRD used once
THIRD_B 00000070

Symbol: THIRD_B
   Definitions
      At line 76 in file GPIO_INTER_INIT.s
   Uses
      At line 60 in file GPIO_INTER_INIT.s
Comment: THIRD_B used once
routines 00000000

Symbol: routines
   Definitions
      At line 28 in file GPIO_INTER_INIT.s
   Uses
      None
Comment: routines unused
12 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIO_LOCK_KEY 4C4F434B

Symbol: GPIO_LOCK_KEY
   Definitions
      At line 16 in file GPIO_INTER_INIT.s
   Uses
      At line 130 in file GPIO_INTER_INIT.s
Comment: GPIO_LOCK_KEY used once
GPIO_PORTF_CR_R 40025524

Symbol: GPIO_PORTF_CR_R
   Definitions
      At line 17 in file GPIO_INTER_INIT.s
   Uses
      At line 132 in file GPIO_INTER_INIT.s
Comment: GPIO_PORTF_CR_R used once
GPIO_PORTF_IBE 40025408

Symbol: GPIO_PORTF_IBE
   Definitions
      At line 20 in file GPIO_INTER_INIT.s
   Uses
      At line 152 in file GPIO_INTER_INIT.s
Comment: GPIO_PORTF_IBE used once
GPIO_PORTF_ICR 4002541C

Symbol: GPIO_PORTF_ICR
   Definitions
      At line 24 in file GPIO_INTER_INIT.s
   Uses
      At line 46 in file GPIO_INTER_INIT.s
      At line 155 in file GPIO_INTER_INIT.s

GPIO_PORTF_IEV 4002540C

Symbol: GPIO_PORTF_IEV
   Definitions
      At line 21 in file GPIO_INTER_INIT.s
   Uses
      At line 153 in file GPIO_INTER_INIT.s
Comment: GPIO_PORTF_IEV used once
GPIO_PORTF_IM 40025410

Symbol: GPIO_PORTF_IM
   Definitions
      At line 22 in file GPIO_INTER_INIT.s
   Uses
      At line 154 in file GPIO_INTER_INIT.s
Comment: GPIO_PORTF_IM used once
GPIO_PORTF_IS 40025404

Symbol: GPIO_PORTF_IS
   Definitions
      At line 19 in file GPIO_INTER_INIT.s
   Uses
      At line 151 in file GPIO_INTER_INIT.s
Comment: GPIO_PORTF_IS used once
GPIO_PORTF_RIS 40025414




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

Symbol: GPIO_PORTF_RIS
   Definitions
      At line 23 in file GPIO_INTER_INIT.s
   Uses
      At line 44 in file GPIO_INTER_INIT.s
Comment: GPIO_PORTF_RIS used once
NVIC_EN0 E000E100

Symbol: NVIC_EN0
   Definitions
      At line 4 in file GPIO_INTER_INIT.s
   Uses
      At line 169 in file GPIO_INTER_INIT.s
Comment: NVIC_EN0 used once
NVIC_EN0_INT30 40000000

Symbol: NVIC_EN0_INT30
   Definitions
      At line 3 in file GPIO_INTER_INIT.s
   Uses
      None
Comment: NVIC_EN0_INT30 unused
NVIC_PRI7 E000E41C

Symbol: NVIC_PRI7
   Definitions
      At line 5 in file GPIO_INTER_INIT.s
   Uses
      At line 164 in file GPIO_INTER_INIT.s
Comment: NVIC_PRI7 used once
PORTF_AFSEL 40025420

Symbol: PORTF_AFSEL
   Definitions
      At line 11 in file GPIO_INTER_INIT.s
   Uses
      At line 138 in file GPIO_INTER_INIT.s
Comment: PORTF_AFSEL used once
PORTF_AMSEL 40025528

Symbol: PORTF_AMSEL
   Definitions
      At line 12 in file GPIO_INTER_INIT.s
   Uses
      None
Comment: PORTF_AMSEL unused
PORTF_DATA 400253FC

Symbol: PORTF_DATA
   Definitions
      At line 14 in file GPIO_INTER_INIT.s
   Uses
      None
Comment: PORTF_DATA unused
PORTF_DEN 4002551C

Symbol: PORTF_DEN
   Definitions
      At line 9 in file GPIO_INTER_INIT.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

   Uses
      At line 142 in file GPIO_INTER_INIT.s
Comment: PORTF_DEN used once
PORTF_DIR 40025400

Symbol: PORTF_DIR
   Definitions
      At line 13 in file GPIO_INTER_INIT.s
   Uses
      At line 135 in file GPIO_INTER_INIT.s
Comment: PORTF_DIR used once
PORTF_LOCK 40025520

Symbol: PORTF_LOCK
   Definitions
      At line 15 in file GPIO_INTER_INIT.s
   Uses
      At line 129 in file GPIO_INTER_INIT.s
Comment: PORTF_LOCK used once
PORTF_PCTL 4002552C

Symbol: PORTF_PCTL
   Definitions
      At line 10 in file GPIO_INTER_INIT.s
   Uses
      None
Comment: PORTF_PCTL unused
PORTF_PUR 40025510

Symbol: PORTF_PUR
   Definitions
      At line 18 in file GPIO_INTER_INIT.s
   Uses
      At line 146 in file GPIO_INTER_INIT.s
Comment: PORTF_PUR used once
POSITION 20000400

Symbol: POSITION
   Definitions
      At line 26 in file GPIO_INTER_INIT.s
   Uses
      At line 63 in file GPIO_INTER_INIT.s
      At line 70 in file GPIO_INTER_INIT.s
      At line 77 in file GPIO_INTER_INIT.s
      At line 84 in file GPIO_INTER_INIT.s
      At line 97 in file GPIO_INTER_INIT.s
      At line 104 in file GPIO_INTER_INIT.s
      At line 111 in file GPIO_INTER_INIT.s

RCGCGPIO 400FE608

Symbol: RCGCGPIO
   Definitions
      At line 7 in file GPIO_INTER_INIT.s
   Uses
      At line 122 in file GPIO_INTER_INIT.s
Comment: RCGCGPIO used once
21 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

BATTLESHIP 00000000

Symbol: BATTLESHIP
   Definitions
      At line 30 in file GPIO_INTER_INIT.s
   Uses
      None
Comment: BATTLESHIP unused
CIVILIAN 00000000

Symbol: CIVILIAN
   Definitions
      At line 31 in file GPIO_INTER_INIT.s
   Uses
      None
Comment: CIVILIAN unused
2 symbols
371 symbols in table
